<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mini Battle 3x3</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white flex flex-col min-h-screen font-sans">
  <!-- Header -->
  <header class="flex items-center gap-3 p-4 border-b border-gray-800 bg-gray-800/40">
    <img id="user-photo" src="" alt="avatar" class="w-10 h-10 rounded-full border-2 border-teal-400">
    <span id="user-name" class="text-lg font-medium"></span>
  </header>

  <!-- Main -->
  <main class="flex flex-col items-center justify-center flex-grow text-center p-6">
    <h1 class="text-3xl font-bold text-teal-400 mb-2">⚔️ Mini Battle 3x3</h1>
    <p class="text-gray-400 mb-6 text-sm">Мобильная арена сражений прямо в Telegram</p>
    <button id="start-btn"
      class="bg-teal-500 hover:bg-teal-400 text-white font-medium py-3 px-8 rounded-xl text-lg transition">
      Начать игру
    </button>
  </main>

  <!-- Footer -->
  <footer class="text-center text-gray-500 text-xs py-3 border-t border-gray-800">
    © 2025 MiniBattle Studio
  </footer>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();
    tg.ready();

    const user = tg.initDataUnsafe?.user;
    const name = document.getElementById("user-name");
    const photo = document.getElementById("user-photo");

    if (user) {
      name.textContent = user.first_name + (user.last_name ? " " + user.last_name : "");
      photo.src = user.photo_url || "https://cdn-icons-png.flaticon.com/512/149/149071.png";
    } else {
      name.textContent = "Гость";
      photo.src = "https://cdn-icons-png.flaticon.com/512/149/149071.png";
    }

    document.getElementById("start-btn").addEventListener("click", () => {
      tg.showPopup({
        title: "⚔️ В разработке",
        message: "Боевая арена скоро появится!",
        buttons: [{ type: "close" }]
      });
    });
  </script>
</body>
</html>
